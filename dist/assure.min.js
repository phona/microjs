!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).assure=t()}}(function(){var t={};function E(){}var e=function(){function t(){this.isTimeout=!1,this.timeoutFlag=null}return t.prototype.send=function(t){var e,n,T=this,o=t.headers||{},r=(t.method||"GET").toUpperCase(),s=void 0===t.async||t.async,i=t.success||E,R=t.error||E,O=t.timeout;if(o["Content-Type"]||(o["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),"GET"===r){var _="string"==typeof(u=t.data||"")?u:function(t){var E=[];for(var e in t)E.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return"?"+E.join("&")}(u);e=t.data?t.url+_:t.url,n=null}else{var u=t.data||"";e=t.url,n="string"==typeof u?u:function(t){var E=[];for(var e in t)E.push(e+"="+t[e]);return""+E.join("&")}(u)}var N=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;for(var t=["Microsoft","msxm3","msxml2","msxml1"],E=0;E<t.length;E++)try{return new ActiveXObject(t[E]+".XMLHTTP")}catch(e){}}();for(var I in N.open(r,e,s),N.onreadystatechange=function(){if(4===N.readyState){if(void 0!==O){if(T.isTimeout)return;clearTimeout(T.timeoutFlag)}N.status>=200&&N.status<300||304===N.status?i(N.responseText):R(N.status,N.statusText)}},o)N.setRequestHeader(I,o[I]);N.send(n),O&&(this.timeoutFlag=setTimeout(function(){T.isTimeout=!0,N&&N.abort()},O))},t}();t.default=function(t){(new e).send(t)};var n,T={};(function(t){t[t.CONTINUE=100]="CONTINUE",t[t.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",t[t.PROCESSING=102]="PROCESSING",t[t.OK=200]="OK",t[t.CREATED=201]="CREATED",t[t.ACCEPTED=202]="ACCEPTED",t[t.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",t[t.NO_CONTENT=204]="NO_CONTENT",t[t.RESET_CONTENT=205]="RESET_CONTENT",t[t.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",t[t.MULTI_STATUS=207]="MULTI_STATUS",t[t.ALREADY_REPORTED=208]="ALREADY_REPORTED",t[t.IM_USED=226]="IM_USED",t[t.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",t[t.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",t[t.FOUND=302]="FOUND",t[t.SEE_OTHER=303]="SEE_OTHER",t[t.NOT_MODIFIED=304]="NOT_MODIFIED",t[t.USE_PROXY=305]="USE_PROXY",t[t.SWITCH_PROXY=306]="SWITCH_PROXY",t[t.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",t[t.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",t[t.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",t[t.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",t[t.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",t[t.CONFLICT=409]="CONFLICT",t[t.GONE=410]="GONE",t[t.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",t[t.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",t[t.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",t[t.URI_TOO_LONG=414]="URI_TOO_LONG",t[t.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",t[t.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",t[t.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",t[t.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",t[t.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",t[t.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",t[t.LOCKED=423]="LOCKED",t[t.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",t[t.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",t[t.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",t[t.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",t[t.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",t[t.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t[t.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",t[t.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",t[t.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",t[t.LOOP_DETECTED=508]="LOOP_DETECTED",t[t.NOT_EXTENDED=510]="NOT_EXTENDED",t[t.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"})(n||(n={})),T.default=n;var o,r={},s=this&&this.__extends||(o=function(t,E){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,E){t.__proto__=E}||function(t,E){for(var e in E)E.hasOwnProperty(e)&&(t[e]=E[e])})(t,E)},function(t,E){function e(){this.constructor=t}o(t,E),t.prototype=null===E?Object.create(E):(e.prototype=E.prototype,new e)}),i=function(t){function E(e,n){var o=this;return n||(n=T.default[e].split("_").join(" ")||""),(o=t.call(this,n)||this).status=e,o.describe=n,Object.setPrototypeOf(o,E.prototype),o}return s(E,t),E}(Error);r.default=i;var R,O={};O.__esModule=!0,function(t){t[t.PENDING=0]="PENDING",t[t.FULFILLED=1]="FULFILLED",t[t.REJECTED=2]="REJECTED"}(R||(R={}));var _=0,u=function(){},N=function(){function t(t){if(this.asyncfn=t,"function"!=typeof t)throw new TypeError("Assure resolver "+t+" is not a function");this.children=[],this.numb=_++,this.result=null,this.state=R.PENDING,this.onResolved=null,this.onRejected=null}return t.prototype.pipe=function(t){this.then(function(E){t.state=R.FULFILLED,t.result=E,t.children.forEach(function(t){return t.process(E)})},function(E){t.state=R.REJECTED,t.result=E,t.children.forEach(function(t){return t.process(E)})})},t.prototype.process=function(E){if(this.result=E,E instanceof t)E.pipe(this);else if(E instanceof Error){var e=E;if(this.onRejected&&"function"==typeof this.onRejected)try{if((e=this.onRejected(E))instanceof t)return void e.pipe(this);this.result=e}catch(T){this.result=e=T}this.state=R.REJECTED,this.children.forEach(function(t){return t.process(e)})}else{var n=E;if(this.onResolved&&"function"==typeof this.onResolved)try{if(n=this.onResolved(E),this.state=R.FULFILLED,n instanceof t)return void n.pipe(this);void 0!==n&&(this.result=n)}catch(T){this.result=n=T,this.state=R.REJECTED}else this.state=R.FULFILLED;this.children.forEach(function(t){return t.process(n)})}},t.prototype.invokeAsyncFn=function(){var t=this;if(this.asyncfn!==u)try{this.asyncfn(function(E){t.state=R.FULFILLED,t.process(E)},function(E){t.state=R.REJECTED,t.process(E)})}catch(E){this.state=R.REJECTED,this.process(E)}},t.prototype.then=function(E,e){var n=new t(u);return n.onResolved=E,n.onRejected=e,this.children.push(n),this.state!==R.PENDING?n.process(this.result):this.invokeAsyncFn(),n},t.prototype.catch=function(E){var e=new t(u);return e.onRejected=E,this.children.push(e),this.state!==R.PENDING?e.process(this.result):this.invokeAsyncFn(),e},t}();function I(t){return new N(t)}function A(E,e,n){return I(function(T,o){var s={url:E,data:e,success:function(t){return T(t)},error:function(t,E){return o(new r.default(t,E))}};for(var i in n)s[i]=n[i];t.default(s)})}function c(E,e,n){return I(function(T,o){var s={url:E,data:e,method:"POST",success:function(t){return T(t)},error:function(t,E){return o(new r.default(t,E))}};for(var i in n)s[i]=n[i];t.default(s)})}return O.wrap=I,O.get=A,O.post=c,O.default={wrap:I,get:A,post:c,HttpError:r.default,STATE:R},O});